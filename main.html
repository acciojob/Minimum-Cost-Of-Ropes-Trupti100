<!DOCTYPE html>
<html>
<head>
    <title>Minimum Cost of Ropes</title>
</head>
<body>
    <form id="inputForm">
        <label for="ropesInput">Enter comma-separated rope lengths:</label>
        <input type="text" id="ropesInput" />
        <input type="submit" value="Calculate Minimum Cost" />
    </form>
    <div id="result"></div>

    <script>
        document.getElementById('inputForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const input = document.getElementById('ropesInput').value;
            const ropeLengths = input.split(',').map(Number);
            const minimumCost = findMinimumCost(ropeLengths);
            document.getElementById('result').textContent = `Minimum Cost: ${minimumCost}`;
        });

        function findMinimumCost(ropeLengths) {
            const minHeap = new MinHeap();

            // Add all rope lengths to the min heap
            for (const length of ropeLengths) {
                minHeap.insert(length);
            }

            let cost = 0;

            // Connect ropes until there is only one rope left
            while (minHeap.size() > 1) {
                const firstRope = minHeap.extractMin();
                const secondRope = minHeap.extractMin();
                const combinedLength = firstRope + secondRope;
                cost += combinedLength;
                minHeap.insert(combinedLength);
            }

            return cost;
        }

        // MinHeap implementation
        class MinHeap {
            constructor() {
                this.heap = [];
            }

            size() {
                return this.heap.length;
            }

            insert(value) {
                this.heap.push(value);
                this.bubbleUp();
            }

            extractMin() {
                if (this.size() === 0) {
                    return null;
                }
                if (this.size() === 1) {
                    return this.heap.pop();
                }
                const min = this.heap[0];
                this.heap[0] = this.heap.pop();
                this.heapify(0);
                return min;
            }

            bubbleUp() {
                let index = this.size() - 1;
                while (index > 0) {
                    const element = this.heap[index];
                    const parentIndex = Math.floor((index - 1) / 2);
                    const parent = this.heap[parentIndex];
                    if (element >= parent) {
                        break;
                    }
                    this.swap(index, parentIndex);
                    index = parentIndex;
                }
            }

            heapify(index) {
                const leftIndex = 2 * index + 1;
                const rightIndex = 2 * index + 2;
                let smallest = index;

                if (leftIndex < this.size() && this.heap[leftIndex] < this.heap[smallest]) {
                    smallest = leftIndex;
                }

                if (rightIndex < this.size() && this.heap[rightIndex] < this.heap[smallest]) {
                    smallest = rightIndex;
                }

                if (smallest !== index) {
                    this.swap(index, smallest);
                    this.heapify(smallest);
                }
            }

            swap(i, j) {
                const temp = this.heap[i];
                this.heap[i] = this.heap[j];
                this.heap[j] = temp;
            }
        }
    </script>
</body>
</html>
